---
layout: default
---
<!DOCTYPE html>
<html lang="es" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Cubo de leds 4x4x4</title>
</head>

<body>
    <h1>Objetivo</h1>
    <p align="justify">
        Este proyecto busca aplicar el concepto de IoT (Internet de las cosas), que tiene relación con que ciertos dispositivos puedan enviar y recibir datos a través de WiFi. En este caso, se realiza un cubo de leds de 4x4x4 leds conectado a la placa ESP32 (que es el dispositivo que se conecta a WiFi, a través de un bróker alojado en CloudMQTT), la cual recibirá mensajes desde esta página web para desplegar diferentes secuencias de patrones con los 64 leds.
    </p>
    <h1>Descripción de patrones</h1>
    <h2>Patrón 1</h2>
    <iframe width="420" height="315" src="https://t.me/ISAE10O2021/2">
    </iframe>
    <p>
        Consiste en un movimiento que simula a una serpiente.
    </p>
    <h2>Patrón 2</h2>
    <iframe width="420" height="315" src="https://t.me/ISAE10O2021/2">
    </iframe>
    <p>
        Se encienden los leds
    </p>
    <h2>Patrón 3</h2>
    <iframe width="420" height="315" src="https://t.me/ISAE10O2021/2">
    </iframe>
    <p>
        En este patrón se van encendiendo dos leds simultanéamente en cada fila (dos filas al mismo tiempo). Inicia 
        en las filas superior e inferior (avanzando hacia las del centro), en las columnas inician en el centro de 
        un lado (dependiendo la perspectiva) y avanzan hasta terminar en la misma columna que se inició.
    </p>
    <h2>Patrón 4</h2>
    <iframe width="420" height="315" src="https://t.me/ISAE10O2021/2">
    </iframe>
    <p>
        Recorre todas las filas con una columna sí y otra no, regresando por las que no recorrió.
    </p>
    <h2>Patrón 5</h2>
    <iframe width="420" height="315" src="https://t.me/ISAE10O2021/2">
    </iframe>
    <p>
        Consiste
    </p>
    <h2>Patrón 6</h2>
    <iframe width="420" height="315" src="https://t.me/ISAE10O2021/2">
    </iframe>
    <p>
        Consiste
    </p>

    <h1>Controlando el cubo</h1>
    <div id="display"> </div>
    <label for="patron-select">Selecciona un patrón:</label>

    <select id="patron-select" onChange="command(this.value)">
        <option value="">--Elige un patrón--</option>
        <option value="1">Patrón 1</option>
        <option value="2">Patrón 2</option>
        <option value="3">Patrón 3</option>
        <option value="4">Patrón 4</option>
        <option value="5">Patrón 5</option>
        <option value="6">Patrón 6</option>
    </select>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
    <script type="text/javascript">
        var clientId = 'client_id_' + Math.floor((Math.random() * 1000000) + 1);
        client = new Paho.MQTT.Client("driver.cloudmqtt.com", 38651, clientId);

        client.onConnectionLost = onConnectionLost;
        client.onMessageArrived = onMessageArrived;

        var options = {
            useSSL: true,
            userName: "clxxwiek",
            password: "PtsiiKX9xhVm",
            onSuccess: onConnect,
            onFailure: doFail
        }

        client.connect(options);

        function onConnect() {
            console.log("Conexión exitosa");
            client.subscribe("Equipo10");
        }


        function onMessageArrived(message) {
            console.log("Un mensaje ha llegado:" + message.payloadString);
        }

        function doFail(e) {
            console.log(e);
        }

        function onConnectionLost(responseObject) {
            if (responseObject.errorCode !== 0) {
                console.log("onConnectionLost: " + responseObject.errorMessage);
            }
        }

        function command(value) {
            console.log("Patrón " + value);
            message = new Paho.MQTT.Message(value + "");
            message.destinationName = 'patronEquipo10';
            client.send(message);
        }
    </script>
</body>

</html>